{"version":3,"sources":["firebase.js","contexts/AuthContext.js","components/Signup.js","services/videos.js","contexts/VideosContext.js","components/dashboard/Dashboard.js","components/Login.js","components/header/Header.js","helpers/api.js","utils/youtube.js","components/ShareVideo.js","components/App.js","index.js"],"names":["app","firebase","initializeApp","databaseURL","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","database","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","Card","Body","className","Alert","variant","Form","onSubmit","Group","id","Label","Control","type","ref","required","Button","disabled","to","db","once","video","key","console","log","update","child","remove","VideoContext","VideoProvider","videos","setVideos","getVideos","VideoDataService","getAll","val","data","Dashboard","ACTIONS","onClickReact","action","reacted","alert","item","fieldUpdate","listReaction","filter","i","length","Object","keys","map","isLikeByCurrentUser","reactLike","includes","isDislikeByCurrentUser","reactDislike","title","src","width","height","allowFullScreen","shareBy","onClick","like","dislike","description","renderItem","Login","Header","_props","setEmail","setPassword","handleLogin","code","message","handleLogout","alt","style","margin","placeholder","onChange","event","target","$http","axios","create","baseURL","timeout","$get","path","get","getInfoVideo","getId","url","match","getInfoFromAUrl","Promise","resolve","reject","ShareVideo","setUrl","onClickShare","items","snippet","App","Container","minHeight","Fragment","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ab3a810e.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\"\r\n\r\nconst app = firebase.initializeApp({\r\n  databaseURL: \"https://share-video-remitano-default-rtdb.firebaseio.com/\",\r\n  apiKey: \"AIzaSyCNHzGu6R7Osd6hfMYJjn0JocVY-0b5Vxo\",\r\n  authDomain: \"share-video-remitano.firebaseapp.com\",\r\n  projectId: \"share-video-remitano\",\r\n  storageBucket: \"share-video-remitano.appspot.com\",\r\n  messagingSenderId: \"1064066696968\",\r\n  appId: \"1:1064066696968:web:6ea84774b51ce4146c0ebd\",\r\n  measurementId: \"G-M186C986TN\"\r\n});\r\n\r\nexport const auth = app.auth();\r\nexport const database = app.database();\r\nexport default app;\r\n","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"../firebase\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function Signup() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { signup } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await signup(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to create an account\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Sign Up\r\n            </Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Already have an account? <Link to=\"/login\">Log In</Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import { database } from \"../firebase\";\r\n\r\nconst db = database.ref(\"videos\");\r\n\r\nclass VideoDataService {\r\n  getAll() {\r\n    return db.once('value');\r\n  }\r\n\r\n  create(video) {\r\n    return db.push(video);\r\n  }\r\n\r\n  update(key, value) {\r\n    console.log('value', value)\r\n    return database.ref(`videos/${key}`).update(value)\r\n  }\r\n\r\n  delete(key) {\r\n    return db.child(key).remove();\r\n  }\r\n\r\n  deleteAll() {\r\n    return db.remove();\r\n  }\r\n}\r\n\r\nexport default new VideoDataService();\r\n","import React, { useContext, useState } from \"react\";\r\nimport VideoDataService from \"../services/videos\";\r\n\r\nconst VideoContext = React.createContext();\r\n\r\nexport function useVideo() {\r\n  return useContext(VideoContext);\r\n}\r\n\r\nexport function VideoProvider({ children }) {\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const getVideos = async () => {\r\n    setLoading(true)\r\n    const data = await (await VideoDataService.getAll()).val();\r\n    setVideos(data)\r\n    setLoading(false)\r\n  }\r\n\r\n  const value = {\r\n    loading,\r\n    videos,\r\n    setVideos,\r\n    getVideos\r\n  };\r\n\r\n  return (\r\n    <VideoContext.Provider value={value}>{children}</VideoContext.Provider>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from \"react\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { useVideo } from \"../../contexts/VideosContext\";\r\nimport VideoDataService from \"../../services/videos\";\r\nimport \"./style.scss\";\r\n\r\nconst Dashboard = () => {\r\n  const { currentUser } = useAuth();\r\n  const { videos, loading, getVideos, setVideos } = useVideo();\r\n  const ACTIONS = {\r\n    LIKE: \"reactLike\",\r\n    UNLIKE: \"reactDislike\"\r\n  };\r\n\r\n  useEffect(() => {\r\n    getVideos();\r\n  }, []);\r\n\r\n  const onClickReact = async (key, action, reacted = false) => {\r\n    if (!currentUser) {\r\n      alert(\"Please login to do reaction\");\r\n      return;\r\n    }\r\n    const item = videos?.[key];\r\n    const isLike = action === ACTIONS.LIKE;\r\n    const fieldUpdate = isLike ? \"like\" : \"dislike\";\r\n    let listReaction = item?.[action] || [];\r\n\r\n    if (reacted) {\r\n      listReaction = listReaction.filter((i) => i !== currentUser.email);\r\n    } else {\r\n      listReaction = [...listReaction, currentUser.email];\r\n    }\r\n\r\n    try {\r\n      await VideoDataService.update(key, {\r\n        ...item,\r\n        [action]: listReaction,\r\n        [fieldUpdate]: listReaction.length\r\n      });\r\n\r\n      setVideos({\r\n        ...videos,\r\n        [key]: {\r\n          ...item,\r\n          [action]: listReaction,\r\n          [fieldUpdate]: listReaction.length\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n  };\r\n\r\n  const renderItem = (key) => {\r\n    const item = videos?.[key];\r\n    const isLikeByCurrentUser = item?.reactLike?.includes(currentUser?.email);\r\n    const isDislikeByCurrentUser = item?.reactDislike?.includes(\r\n      currentUser?.email\r\n    );\r\n    return (\r\n      <div className=\"dashboard__block-item block row\" key={item?.title}>\r\n        <div className=\"col-6\">\r\n          <iframe\r\n            title={item?.title}\r\n            src={item?.src}\r\n            width=\"100%\"\r\n            height=\"400\"\r\n            allowFullScreen={true}\r\n          ></iframe>\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <div className=\"dashboard__block-info block\">\r\n            <h2>{item?.title}</h2>\r\n            <div className=\"dashboard__block-title d-flex align-items-center\">\r\n              <p className=\"share-by\">Share by {item?.shareBy}</p>\r\n              {!isLikeByCurrentUser && !isDislikeByCurrentUser ? (\r\n                <div>\r\n                  <span\r\n                    className=\"big-reaction like-light\"\r\n                    onClick={() => onClickReact(key, ACTIONS.LIKE)}\r\n                  ></span>\r\n                  <span\r\n                    className=\"big-reaction like-light flip\"\r\n                    onClick={() => onClickReact(key, ACTIONS.UNLIKE)}\r\n                  ></span>\r\n                </div>\r\n              ) : isLikeByCurrentUser ? (\r\n                <span\r\n                  className=\"big-reaction liked\"\r\n                  onClick={() => onClickReact(key, ACTIONS.LIKE, true)}\r\n                ></span>\r\n              ) : (\r\n                <span\r\n                  className=\"big-reaction liked flip\"\r\n                  onClick={() => onClickReact(key, ACTIONS.UNLIKE, true)}\r\n                ></span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"dashboard__rate d-flex\">\r\n              <div className=\"like\">\r\n                <span>{item?.like}</span>\r\n                <span className=\"reaction like-light\"></span>\r\n              </div>\r\n              <div className=\"dislike\">\r\n                <span>{item?.dislike}</span>\r\n                <span className=\"reaction like-light flip\"></span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"dashboard__description\">\r\n              <h4>Description:</h4>\r\n              <p>{item?.description}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading.......</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      {videos ? (\r\n        Object.keys(videos)?.map((key) => renderItem(key))\r\n      ) : (\r\n        <div>No video here. Share video to make it funny</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useRef, useState } from \"react\"\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { login } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/\")\r\n    } catch {\r\n      setError(\"Failed to log in\")\r\n    }\r\n\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <Card.Body>\r\n          <h2 className=\"text-center mb-4\">Log In</h2>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Log In\r\n            </Button>\r\n          </Form>\r\n          <div className=\"w-100 text-center mt-3\">\r\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Need an account? <Link to=\"/signup\">Sign Up</Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Alert } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport \"./styles.scss\";\r\n\r\nconst Header = (_props) => {\r\n  const history = useHistory();\r\n  const { login, currentUser, logout, signup } = useAuth();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    setLoading(true);\r\n    try {\r\n      setError(\"\");\r\n\r\n      await login(email, password);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      switch (error.code) {\r\n        case \"auth/user-not-found\":\r\n          await signup(email, password);\r\n          break;\r\n        default:\r\n          setError(error.message);\r\n          break;\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    setError(\"\");\r\n\r\n    try {\r\n      await logout();\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const onClickShare = () => {\r\n    history.push(\"/share\");\r\n  };\r\n\r\n  const renderSigninComp = () => {\r\n    return (\r\n      <div>\r\n        <input\r\n          className=\"email\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(event) => setEmail(event.target.value)}\r\n        />\r\n        <input\r\n          className=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          type=\"password\"\r\n          onChange={(event) => setPassword(event.target.value)}\r\n        />\r\n        <button\r\n          className=\"login-btn\"\r\n          disabled={loading}\r\n          onClick={() => handleLogin()}\r\n        >\r\n          Login / Register\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSigninedComp = () => {\r\n    return (\r\n      <div className=\"d-flex\">\r\n        <p>Welcome {currentUser?.email}</p>\r\n        <button\r\n          style={{ margin: \"0 10px\" }}\r\n          disabled={loading}\r\n          onClick={() => onClickShare()}\r\n        >\r\n          Share a movie\r\n        </button>\r\n        <button\r\n          style={{ margin: \"0 10px\" }}\r\n          disabled={loading}\r\n          onClick={() => handleLogout()}\r\n        >\r\n          Logout\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"d-flex justify-content-between align-items-center\">\r\n        <Link to=\"/\">\r\n          <img src=\"./phim1080.png\" alt=\"logo\" width=\"300\" />\r\n        </Link>\r\n        {currentUser ? renderSigninedComp() : renderSigninComp()}\r\n      </div>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import axios from \"axios\";\r\n\r\nconst APIKEY = \"AIzaSyB6Izic5eDN4axlvZcXZvg-6YnSbG5f1Zk\";\r\nexport const $http = axios.create({\r\n  baseURL: \"https://www.googleapis.com/youtube/v3\",\r\n  timeout: 5000\r\n});\r\n\r\nexport async function $get(path) {\r\n  const { data } = await $http.get(path);\r\n\r\n  return data;\r\n}\r\n\r\nexport const getInfoVideo = async (id) => {\r\n  const data = await $get(\r\n    `/videos?part=snippet&id=${id}&fields=items/snippet/title,items/snippet/description&key=${APIKEY}`\r\n  );\r\n\r\n  return data;\r\n};\r\n","import { getInfoVideo } from \"../helpers/api\";\r\n\r\nconst getId = (url) => {\r\n  var regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\\\&v=)([^#\\\\&\\\\?]*).*/;\r\n  var match = url.match(regExp);\r\n\r\n  if (match && match[2].length === 11) {\r\n    return match[2];\r\n  } else {\r\n    return \"error\";\r\n  }\r\n};\r\n\r\nconst getInfoFromAUrl = (url) => {\r\n  const id = getId(url);\r\n\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const data = await getInfoVideo(id)\r\n      resolve(data)\r\n    } catch (error) {\r\n      reject(error.message || 'Get info fail')\r\n    }\r\n  })\r\n}\r\n\r\nexport { getId, getInfoFromAUrl };\r\n","import React, { useState } from \"react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport VideoDataService from \"../services/videos\";\r\nimport { getId, getInfoFromAUrl } from \"../utils/youtube\";\r\n\r\nconst ShareVideo = () => {\r\n  const { currentUser } = useAuth();\r\n  const [url, setUrl] = useState(\"\");\r\n\r\n  const onClickShare = async () => {\r\n    if (!currentUser) {\r\n      setUrl(\"\");\r\n      alert(\"Please login to share video\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const id = getId(url);\r\n      const data = await getInfoFromAUrl(url);\r\n      const video = {\r\n        title: data?.items[0].snippet.title,\r\n        shareBy: currentUser?.email,\r\n        like: 0,\r\n        dislike: 0,\r\n        description: data?.items[0].snippet.title,\r\n        src: `https://www.youtube.com/embed/${id}`\r\n      };\r\n      await VideoDataService.create(video);\r\n      setUrl(\"\");\r\n      alert(\"Thanks for sharing\");\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p>Share your Youtube video here</p>\r\n      <input\r\n        placeholder=\"Youtube url\"\r\n        value={url}\r\n        onChange={(e) => setUrl(e.target.value)}\r\n      />\r\n      <button onClick={() => onClickShare()}>Share</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareVideo;\r\n","import React from \"react\";\r\nimport Signup from \"./Signup\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { AuthProvider } from \"../contexts/AuthContext\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Dashboard from \"./dashboard/Dashboard\";\r\nimport Login from \"./Login\";\r\nimport Header from \"./header/Header\";\r\nimport { VideoProvider } from \"../contexts/VideosContext\";\r\nimport ShareVideo from \"./ShareVideo\";\r\nimport \"./styles/App.scss\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Container className=\"d-flex\" style={{ minHeight: \"100vh\" }}>\r\n      <div className=\"w-100\">\r\n        <Router>\r\n          <React.Fragment>\r\n            <AuthProvider>\r\n              <VideoProvider>\r\n                <Header />\r\n                <Switch>\r\n                  <Route exact path=\"/\" component={Dashboard} />\r\n                  <Route exact path=\"/share-video-remitano\" component={Dashboard} />\r\n                  <Route path=\"/signup\" component={Signup} />\r\n                  <Route path=\"/login\" component={Login} />\r\n                  <Route path=\"/share\" component={ShareVideo} />\r\n                </Switch>\r\n              </VideoProvider>\r\n            </AuthProvider>\r\n          </React.Fragment>\r\n        </Router>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./components/App\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n)\r\n"],"sourceRoot":""}